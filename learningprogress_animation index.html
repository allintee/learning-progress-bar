<index.html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>学习效果“四重唱”</title>
  <style>
    body {
      background-color: black;
      color: white;
      font-family: Arial, sans-serif;
    }

    .progress-container {
      width: 80%;
      margin: 20px auto;
      background-color: #333;
      border-radius: 10px;
      overflow: hidden;
    }

    .progress-bar {
      height: 30px;
      width: 0%;
      text-align: center;
      line-height: 30px;
      color: white;
      font-weight: bold;
      transition: width 2s linear;
      background-color: #FF69B4;
    }

    .stage {
      margin-bottom: 20px;
      text-align: center;
      font-size: 1.2em;
    }

    button {
      margin: 20px auto;
      display: block;
      padding: 10px 20px;
      background-color: #555;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background-color: #777;
    }

    .final-text {
      text-align: center;
      margin-top: 20px;
      font-size: 1em;
    }
  </style>
</head>
<body>

  <h1 style="text-align: center;">学习效果“四重唱”</h1>

  <audio id="background-music" loop>
    <source src="https://www.bensound.com/bensound-music/bensound-slowmotion.mp3" type="audio/mpeg">
  </audio>

  <div class="stage" id="stage-text">个人先学</div>
  <div class="progress-container">
    <div class="progress-bar" id="progress-bar">0%</div>
  </div>

  <button id="next-button" onclick="advanceProgress()">下一阶段</button>

  <p class="final-text" id="final-text" style="display: none;">
    经过以上四轮学习，最终会有95%的学生掌握学习，而学生对知识的理解也在不断深化。
  </p>

  <script>
    const stages = [
      { text: '个人先学', percentage: '30%', color: '#FF69B4' },
      { text: '小组交流', percentage: '50%', color: '#FF8C00' },
      { text: '班级交流', percentage: '80%', color: '#33FF57' },
      { text: '教师点拨', percentage: '95%', color: '#3385FF' }
    ];

    let currentStage = 0;
    const backgroundMusic = document.getElementById('background-music');

    function advanceProgress() {
      if (currentStage === 0) {
        backgroundMusic.play();
      }
      if (currentStage < stages.length) {
        const stage = stages[currentStage];
        const progressBar = document.getElementById('progress-bar');
        const stageText = document.getElementById('stage-text');

        progressBar.style.width = stage.percentage;
        progressBar.textContent = stage.percentage;
        progressBar.style.backgroundColor = stage.color;
        stageText.textContent = stage.text;

        currentStage++;

        if (currentStage === stages.length) {
          document.getElementById('next-button').style.display = 'none';
          document.getElementById('final-text').style.display = 'block';
        }
      }
    }

    document.addEventListener('keydown', function(event) {
      if (event.code === 'Space') {
        event.preventDefault();
        advanceProgress();
      }
    });
  </script>

</body>
</html>
